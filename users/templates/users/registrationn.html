{% extends 'users/base.html' %}
{% load static %}

{% block content %}
<div class="full-page-container">
  <div class="container registration-box">
    <div class="left">
        <img src="{% static 'images/girl.png' %}" alt="Illustration">
    </div>

    <div class="right">
      <h1>Create an account</h1>

      {% if form.errors %}
          <div style="color: #ff4d4d; background: #fff2f2; padding: 10px; border-radius: 5px; margin-bottom: 15px; border: 1px solid #ff4d4d;">
              {% for field, errors in form.errors.items %}
                  {% for error in errors %}<p style="margin:0;">{{ error }}</p>{% endfor %}
              {% endfor %}
          </div>
      {% endif %}

      <form method="post" action="{% url 'users:register' %}">
        {% csrf_token %}

        <!-- Username Field -->
        <div class="form-group">
          <label>Username</label>
          <div class="input-box">
              <input type="text" name="username" value="{{ form.username.value|default:'' }}" class="input-box-input" required>
          </div>
        </div>

        <!-- Last Name -->
        <div class="form-group">
          <label>Last Name</label>
          <div class="input-box">
              <input type="text" name="last_name" value="{{ form.last_name.value|default:'' }}" class="input-box-input" required>
          </div>
        </div>

        <!-- First Name -->
        <div class="form-group">
          <label>First Name</label>
          <div class="input-box">
              <input type="text" name="first_name" value="{{ form.first_name.value|default:'' }}" class="input-box-input" required>
          </div>
        </div>

        <!-- Email -->
        <div class="form-group">
          <label>Email</label>
          <div class="input-box">
              <input type="email" name="email" value="{{ form.email.value|default:'' }}" class="input-box-input" required>
          </div>
        </div>

        <!-- Phone Number -->
        <div class="form-group">
          <label>Phone Number</label>
          <div class="input-box">
              <input type="text" name="phone_number" value="{{ form.phone_number.value|default:'' }}" class="input-box-input">
          </div>
        </div>

        <!-- Password -->
        <div class="form-group">
          <label>Password</label>
          <div class="input-box password-box">
            <input type="password" name="password" class="input-box-input" required>
            <span class="fa fa-eye toggle-password" style="cursor: pointer;"></span>
          </div>
        </div>

        <!-- Terms & Conditions -->
        <div class="checkbox-wrapper">
          <label class="checkbox-container">
            <input type="checkbox" required>
            <span class="checkmark"></span>
            <p>I agree to the Terms & Conditions</p>
          </label>
        </div>

        <!-- Buttons -->
        <div class="buttons">
          <button type="submit" class="btn-purple">REGISTER</button>
          <a href="{% url 'users:login' %}" class="btn-outline">SIGN IN</a>
        </div>
      </form>
    </div>
  </div>
</div>

<script>
    // Toggle password visibility
    document.querySelector('.toggle-password').addEventListener('click', function() {
        const input = this.previousElementSibling;
        if (input.type === "password") {
            input.type = "text";
            this.classList.replace("fa-eye", "fa-eye-slash");
        } else {
            input.type = "password";
            this.classList.replace("fa-eye-slash", "fa-eye");
        }
    });
</script>
{% endblock %}
