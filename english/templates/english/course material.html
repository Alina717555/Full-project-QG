{% extends 'english/base.html' %}
{% load static %}

{% block title %}{{ lesson.title }}{% endblock %}

{% block css %}
<link rel="stylesheet" href="{% static 'coursematerial.css' %}">
{% endblock %}

{% block content %}
<div class="page">

  <section class="content">

    <h1>{{ lesson.title }}</h1>
    <h2>All lessons</h2>

    <div class="lessons">
      <div class="lesson">
        <img src="{% static 'images/imagecourse1.png' %}" alt="Lesson 1">
        <span class="time">32:45</span>
        <p>Welcome to Course High</p>
      </div>

      <div class="lesson">
        <img src="{% static 'images/imagecourse2.png' %}" alt="Lesson 2">
        <span class="time">32:45</span>
        <p>New Vocabulary</p>
      </div>

      <div class="lesson">
        <img src="{% static 'images/imagecourse3.png' %}" alt="Lesson 3">
        <span class="time">32:45</span>
        <p>Roleplay Basics</p>
      </div>
    </div>

    <div class="main-video">
      <img src="{% static 'images/imagecourse.png' %}" alt="Main Video">
      <div class="overlay">
        <h3>How to make a perfect<br>presentation?</h3>
        <span>Lesson 4</span>
      </div>
    </div>

  </section>

  <aside class="sidebar">

    <h2>Your Hometasks</h2>

    <div class="progress">
      <div class="progress-fill"></div>
    </div>

    <ul class="tasks">
      <li class="done"><span class="icon filled"></span>Watch the video lesson</li>
      <li class="done"><span class="icon filled"></span>Read the material</li>
      <li><span class="icon"></span>Create your presentation</li>
      <li><span class="icon"></span>Prepare to present your presentation</li>
      <li><span class="icon"></span>Reflect on todayâ€™s lesson</li>
    </ul>

    <h3>Additional Materials</h3>

    <div class="card">
      <h4>Understanding your audience</h4>
      <p>
        Understanding your audience is essential. You should consider their level
        of knowledge, interests, and expectations, as well as the context in which
        you are presenting. When content is tailored to the audience, it becomes
        more engaging and easier to understand.
      </p>
    </div>

  </aside>

</div>
{% endblock %}

{% block scripts %}
<script>
  document.addEventListener("DOMContentLoaded", () => {
    // Modal
    const modal = document.getElementById("contactModal");
    const btn = document.querySelector(".btn-outline");
    const closeBtn = document.querySelector(".close");

    if (btn && modal && closeBtn) {
      btn.addEventListener("click", () => modal.style.display = "flex");
      closeBtn.addEventListener("click", () => modal.style.display = "none");
      window.addEventListener("click", (e) => {
        if (e.target === modal) modal.style.display = "none";
      });
    }

    // Dropdown
    const userToggle = document.getElementById("userToggle");
    const dropdownMenu = document.getElementById("dropdownMenu");

    if (userToggle && dropdownMenu) {
      userToggle.addEventListener("click", (e) => {
        e.stopPropagation();
        dropdownMenu.classList.toggle("active");
      });

      document.addEventListener("click", (e) => {
        if (!userToggle.contains(e.target) && !dropdownMenu.contains(e.target)) {
          dropdownMenu.classList.remove("active");
        }
      });
    }
  });
</script>
{% endblock %}
