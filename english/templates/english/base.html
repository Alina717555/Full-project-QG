{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QG Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;600;700&display=swap" rel="stylesheet">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'style.css' %}">

    {%block css%}{%endblock%}
</head>

<body>
   <header class="navbar">
    <a href="{% url 'english:index' %}" class="logo-link">
        <div class="logo">
          <img src="{% static 'images/logo.png' %}" alt="QG logo" class="logo-img">
        </div>
      </a>
      

    <div class="mobile-menu-toggle" id="mobileMenuToggle">
      <i class="fas fa-bars"></i>
    </div>
    
    <nav class="main-nav" id="mainNav">
      <ul class="nav-list">
        <li><a href="{% url 'english:catalog' %}" class="nav-link">Courses</a></li>
        <li><a href="{% url 'english:about' %}" class="nav-link">About us</a></li>
        <li><a href="#footer" class="nav-link">Contact</a></li>
        <li><a href="{% url 'english:feedback' %}" class="nav-link">Feedback</a></li>
      </ul>
      
      <div class="nav-right">
        <button class="btn-outline btn-contact">Get in touch</button>
        
        {% if user.is_authenticated %}
        <div class="user-dropdown">
          <div class="user-toggle" id="userToggle">
            <img
            class="user-avatar"
            src="{% if user.userprofile.avatar %}{{ user.userprofile.avatar.url }}{% else %}{% static 'images/User.png' %}{% endif %}"
            alt="user">
          
            <span class="user-name">{{ user.username }}</span>
            <i class="fas fa-chevron-down"></i>
          </div>
        
          <div class="dropdown-menu" id="dropdownMenu">
            <a href="{% url 'users:profile' %}" class="dropdown-item">
              <i class="fas fa-user-circle"></i> My Profile
            </a>
        
            <a href="{% url 'english:courses' %}" class="dropdown-item">
              <i class="fas fa-bookmark"></i> My Courses
            </a>

            <a href="#" class="dropdown-item">
              <i class="fas fa-cog"></i> Settings
            </a>
            
        
            <hr class="dropdown-divider">
        
            <a href="{% url 'users:logout' %}" class="dropdown-item logout"><i class="fas fa-sign-out-alt"></i> Logout</a>
          </div>
        </div>
        {% else %}
        <a href="{% url 'users:login' %}" class="btn-outline">Login</a>
        {% endif %}
        
    </nav>
  </header>
   <!-- Footer -->
  {% block content %}{% endblock %}  
  <footer class="footer" id="footer">
    <div class="footer-content">
      <div class="footer-section">
        <div class="footer-logo">
          <img src="{% static 'images/white logo.png' %}" alt="QG logo" class="footer-logo-img">
        </div>
        <p class="footer-description">Empowering APEC PetroTechnic students with accessible, organized learning resources for academic success.</p>
        <div class="social-links">
          <a href="#" class="social-link" aria-label="WhatsApp">
            <i class="fab fa-whatsapp"></i>
          </a>
          <a href="#" class="social-link" aria-label="Instagram">
            <i class="fab fa-instagram"></i>
          </a>
          <a href="#" class="social-link" aria-label="Email">
            <i class="fas fa-envelope"></i>
          </a>
          <a href="#" class="social-link" aria-label="Phone">
            <i class="fas fa-phone-alt"></i>
          </a>
        </div>
      </div>
      
      <div class="footer-section">
        <h3>Quick Links</h3>
        <ul class="footer-links">
            <li><a href="{% url 'english:catalog' %}">Courses</a></li>
            <li><a href="{% url 'english:about' %}">About Us</a></li>
            <li><a href="#footer">Contact</a></li>
            <li><a href="{% url 'english:catalog' %}">Catalog</a></li>
            <li><a href="{% url 'users:register' %}">Registration</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h3>Resources</h3>
        <ul class="footer-links">
            <li><a href="#">FAQ</a></li>
            <li><a href="{% url 'english:feedback' %}">Feedback</a></li>
            <li><a href="{% url 'users:profile' %}">Student Portal</a></li>
            <li><a href="{% url 'users:login' %}">Sign Up</a></li>
            <li><a href="#">Privacy Policy</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h3>Contact Info</h3>
        <div class="contact-info">
          <p><i class="fas fa-map-marker-alt"></i> APEC PetroTechnic Campus</p>
          <p><i class="fas fa-envelope"></i> support@qgplatform.edu</p>
          <p><i class="fas fa-phone"></i> +1 (555) 123-4567</p>
        </div>
        <div class="newsletter">
          <h4>Stay Updated</h4>
          <div class="newsletter-form">
            <input type="email" placeholder="Your email">
            <button type="submit"><i class="fas fa-paper-plane"></i></button>
          </div>
        </div>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>&copy; 2023 QG Platform. All rights reserved. Designed for APEC PetroTechnic 1st Year Students.</p>
      <div class="footer-bottom-links">
        <a href="#">Terms of Service</a>
        <a href="#">Privacy Policy</a>
        <a href="#">Cookie Policy</a>
      </div>
    </div>
  </footer>

  <!-- Contact Modal -->
     <div id="contactModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Interested in applying?</h2>
      <form>
        <input type="text" placeholder="Full Name" required>
        <input type="email" placeholder="Email" required>
        <textarea placeholder="Message" rows="4"></textarea>
        <button type="submit">SUBMIT</button>
      </form>
    </div>
  </div>

   


 <script>
document.addEventListener("DOMContentLoaded", () => {
  const mobileMenuToggle = document.getElementById("mobileMenuToggle");
  const mainNav = document.getElementById("mainNav");

  if (mobileMenuToggle && mainNav) {
    mobileMenuToggle.addEventListener("click", () => {
      mainNav.classList.toggle("active");
      const icon = mobileMenuToggle.querySelector("i");
      if (icon) {
        icon.classList.toggle("fa-bars");
        icon.classList.toggle("fa-times");
      }
    });
  }

  const userToggle = document.getElementById("userToggle");
  const dropdownMenu = document.getElementById("dropdownMenu");

  if (userToggle && dropdownMenu) {
    userToggle.addEventListener("click", (e) => {
      e.stopPropagation();
      dropdownMenu.classList.toggle("active");
    });

    document.addEventListener("click", (e) => {
      if (!userToggle.contains(e.target) && !dropdownMenu.contains(e.target)) {
        dropdownMenu.classList.remove("active");
      }
    });
  }

  const contactModal = document.getElementById("contactModal");
  const contactBtn = document.querySelector(".btn-contact");
  const closeBtn = contactModal ? contactModal.querySelector(".close") : null;

  if (contactBtn && contactModal && closeBtn) {
    contactBtn.addEventListener("click", () => {
      contactModal.style.display = "flex";
      document.body.style.overflow = "hidden";
    });

    closeBtn.addEventListener("click", () => {
      contactModal.style.display = "none";
      document.body.style.overflow = "auto";
    });
  }



  if (logoutBtn && logoutModal) {
    logoutBtn.addEventListener("click", (e) => {
      e.preventDefault();
      logoutModal.style.display = "flex";
      document.body.style.overflow = "hidden";
    });
  
    if (cancelLogout) {
      cancelLogout.addEventListener("click", () => {
        logoutModal.style.display = "none";
        document.body.style.overflow = "auto";
      });
    }
  
    if (confirmLogout) {
      confirmLogout.addEventListener("click", () => {
        document.getElementById("logoutForm").submit();
      });
    }
  } 
  

  window.addEventListener("click", (e) => {
    if (contactModal && e.target === contactModal) {
      contactModal.style.display = "none";
      document.body.style.overflow = "auto";
    }

    if (logoutModal && e.target === logoutModal) {
      logoutModal.style.display = "none";
      document.body.style.overflow = "auto";
    }
  });

  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener("click", function (e) {
      if (this.getAttribute("href") === "#") return;
      e.preventDefault();
      const target = document.querySelector(this.getAttribute("href"));
      if (target) target.scrollIntoView({ behavior: "smooth" });
    });
  });

  if (mobileMenuToggle && mainNav) {
    document.querySelectorAll(".nav-link").forEach(link => {
      link.addEventListener("click", () => {
        if (window.innerWidth <= 900) {
          mainNav.classList.remove("active");
          const icon = mobileMenuToggle.querySelector("i");
          if (icon) {
            icon.classList.remove("fa-times");
            icon.classList.add("fa-bars");
          }
        }
      });
    });
  }

  const currentPath = window.location.pathname;

  document.querySelectorAll(".nav-link").forEach(link => {
    const linkPath = link.getAttribute("href");
  
    if (linkPath === currentPath) {
      link.classList.add("active");
    }
  });
  

  const contactForm = document.querySelector(".contact-form");
  if (contactForm && contactModal) {
    contactForm.addEventListener("submit", (e) => {
      e.preventDefault();
      console.log("Form submitted:", Object.fromEntries(new FormData(contactForm)));
      alert("Thank you! Your message has been sent. We'll get back to you soon.");
      contactModal.style.display = "none";
      document.body.style.overflow = "auto";
      contactForm.reset();
    });
  }
});
</script>
